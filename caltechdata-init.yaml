#cloud-config
package_update: true
package_upgrade: true
fqdn: caltechdata.local
packages:
  - build-essential
  - git
  - snapcraft
  - curl 
  - python2
  - python3-dev
  - python-is-python3
  - python3-pip
  - rsync
  - nginx 
  - imagemagick
  - libxml2-dev
  - libxmlsec1-dev
  - docker.io
  - docker-compose
groups:
  - docker
  - staff
  - www-data
snap:
  commands:
  - [ install, certbot ]
runcmd:
  - adduser ubuntu docker
  - adduser ubuntu staff
  - adduser ubuntu www-data
  - [ python3, -m, pip, install, invenio-cli ]
