package_update: true
package_upgrade: true
fqdn: invenio-gui.local
packages:
  - build-essential
  - git
  - snapcraft
  - curl 
  - python3-dev
  - python3-pip
  - rsync
  - apache2
  - apache2-utils
  - ssl-cert
  - libapache2-mod-wsgi 
  - imagemagick
  - xrdp
  - ubuntu-desktop
groups:
  - docker
  - staff
  - www-data
users:
  - default
  - name: rsdoiel
    shell: /bin/bash
    gecos: R. S. Doiel
    primary_group: staff
    groups: [ users, staff, adm, sudo, www-data ]
    ssh_import_id:
      - gh:rsdoiel
    sudo: ALL=(ALL) NOPASSWD:ALL
  - name: tmorrell
    shell: /bin/bash
    gecos: Tom Morrell
    primary_group: staff
    groups: [ users, staff, adm, sudo, www-data ]
    ssh_import_id:
      - gh:tmorrell
  - name: mhucka
    shell: /bin/bash
    gecos: Mike Hucka
    primary_group: staff
    groups: [ users, staff, adm, sudo, www-data ]
    ssh_import_id:
      - gh:mhucka
    sudo: ALL=(ALL) NOPASSWD:ALL
  - name: tkeswick
    shell: /bin/bash
    gecos: Tommy Keswick
    primary_group: staff
    groups: [ users, staff, adm, sudo, www-data ]
    ssh_import_id:
      - gh:t4k
    sudo: ALL=(ALL) NOPASSWD:ALL
timezone: US/Pacific
snap:
  commands:
  - [ install, docker ]
  - [ install, node, --channel=14/stable, --classic ]
runcmd:
  - adduser ubuntu docker
  - adduser rsdoiel docker
  - adduser tmorrell docker
  - adduser mhucka docker
  - adduser tkeswick docker
  - [ python3, -m, pip, install, invenio-cli ]
